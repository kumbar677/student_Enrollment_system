{% extends "admin/base_admin.html" %}

{% block content %}
<div class="row justify-content-center fade-in">
    <div class="col-md-8 col-lg-7">
        <div class="card shadow-lg border-0 rounded-lg">
            <div class="card-header bg-primary text-white py-3">
                <h5 class="m-0 fw-bold">Edit Course: <span class="opacity-75">{{ course.name }}</span></h5>
            </div>
            <div class="card-body p-4">
                <form method="POST">
                    <div class="row g-3 mb-3">
                        <div class="col-md-4">
                            <div class="form-floating">
                                <input type="text" class="form-control" name="course_code"
                                    value="{{ course.course_code }}" required placeholder="Code" id="code">
                                <label for="code">Course Code</label>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div class="form-floating">
                                <input type="text" class="form-control" name="name" value="{{ course.name }}" required
                                    placeholder="Name" id="cname">
                                <label for="cname">Course Name</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <select class="form-select" name="level" id="level">
                                    <option value="1st PU" {% if course.level=='1st PU' %}selected{% endif %}>1st PU
                                    </option>
                                    <option value="2nd PU" {% if course.level=='2nd PU' %}selected{% endif %}>2nd PU
                                    </option>
                                </select>
                                <label for="level">Level</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating">
                                <select class="form-select" name="stream" id="stream">
                                    <option value="Science" {% if course.stream=='Science' %}selected{% endif %}>Science
                                    </option>
                                    <option value="Commerce" {% if course.stream=='Commerce' %}selected{% endif %}>
                                        Commerce</option>
                                    <option value="Arts" {% if course.stream=='Arts' %}selected{% endif %}>Arts</option>
                                </select>
                                <label for="stream">Stream</label>
                            </div>
                        </div>
                        <input type="hidden" name="category" value="{{ course.category }}">
                    </div>

                    <div class="form-floating mb-3">
                        <textarea class="form-control" name="description" placeholder="Description" id="desc"
                            style="height: 100px">{{ course.description }}</textarea>
                        <label for="desc">Description</label>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="url" class="form-control" name="link" value="{{ course.link or '' }}"
                            placeholder="Link" id="link">
                        <label for="link">Material/Link (Optional)</label>
                    </div>

                    <div class="row g-3 mb-4">
                        <div class="col-md-4">
                            <div class="form-floating">
                                <input type="number" step="0.01" class="form-control" name="fee"
                                    value="{{ course.fee }}" required id="fee">
                                <label for="fee">Course Fee (â‚¹)</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-floating">
                                <input type="number" class="form-control" name="credits" value="{{ course.credits }}"
                                    required id="cred">
                                <label for="cred">Credits</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-floating">
                                <input type="number" class="form-control" name="seats" value="{{ course.seats }}"
                                    required id="seat">
                                <label for="seat">Total Seats</label>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex justify-content-end">
                        <a href="{{ url_for('admin.manage_courses') }}" class="btn btn-light me-2">Cancel</a>
                        <button type="submit" class="btn btn-success px-4">Update Course</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}